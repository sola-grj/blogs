import{u as $,f as Z,g as ee,h as U,i as se,P as te,t as ae,j as le,k as S,l as D,m as re,w as G,n as t,p as ne,R as T,q as ue,s as ie,v as oe,x as _,y as I,C as Ee,z as ce,A as he,B as ve,D as pe,E as de,F as Ae,G as ye,H as Be,I as me,J as C}from"./app-tdQwJvOh.js";const je=["/intro.html","/","/AI/","/Git/","/Git/%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E9%83%A8%E7%BD%B2%E5%88%B0github%E7%9A%84GitHub%20Pages%EF%BC%88%E9%9D%99%E6%80%81%E7%BD%91%E9%A1%B5%EF%BC%89.html","/database/","/node/","/python/","/web/","/node/nestjs/IOC%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E4%B8%8EDI%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5.html","/node/nestjs/nestjs%20cli.html","/node/nestjs/nestjs%20CURD.html","/node/nestjs/nestjs%20swagger%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3.html","/node/nestjs/nestjs%20%E4%B8%AD%E9%97%B4%E4%BB%B6.html","/node/nestjs/nestjs%20%E5%AE%88%E5%8D%AB.html","/node/nestjs/nestjs%20%E6%8B%A6%E6%88%AA%E5%99%A8.html","/node/nestjs/nestjs%20%E6%8E%A7%E5%88%B6%E5%99%A8.html","/node/nestjs/nestjs%20%E6%8F%90%E4%BE%9B%E8%80%85.html","/node/nestjs/nestjs%20%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0.html","/node/nestjs/nestjs%20%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD.html","/node/nestjs/nestjs%20%E6%A8%A1%E5%9D%97.html","/node/nestjs/nestjs%20%E7%AE%A1%E9%81%93%E8%BD%AC%E6%8D%A2.html","/node/nestjs/nestjs%20%E7%AE%A1%E9%81%93%E9%AA%8C%E8%AF%81DTO.html","/node/nestjs/nestjs%20%E8%87%AA%E5%AE%9A%E4%B9%89%E8%A3%85%E9%A5%B0%E5%99%A8.html","/node/nestjs/nestjs%20%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93.html","/node/nestjs/","/node/nestjs/restful.html","/node/nestjs/rxjs.html","/node/nestjs/session.html","/node/nestjs/%E8%A3%85%E9%A5%B0%E5%99%A8.html","/python/spider/bs4%E8%A7%A3%E6%9E%90.html","/python/spider/","/python/spider/xpath%E8%A7%A3%E6%9E%90.html","/python/spider/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html","/web/ECMA/ES6-ES11.html","/web/ECMA/","/web/css/css.html","/web/css/","/web/html/BOM%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html","/web/html/DOM%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8.html","/web/html/","/web/js/%E5%92%8C___%E7%9A%84%E5%8C%BA%E5%88%AB%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF.html","/web/js/js%E4%B8%AD%E7%9A%84this%E3%80%81new%E4%BB%A5%E5%8F%8Aapply%E3%80%81call%E3%80%81bind.html","/web/js/js%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE.html","/web/js/js%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE.html","/web/js/js%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html","/web/js/js%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html","/web/js/js%E7%9F%A5%E8%AF%86%E7%9B%B8%E5%85%B3.html","/web/js/","/web/js/typeof%E4%B8%8Einstanceof.html","/web/js/%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B.html","/web/typescript/","/web/typescript/typescript.html","/web/react/disable.html","/web/react/","/web/vue/","/web/webpack/","/web/webpack/webpack.html","/web/uniapp/","/web/vue/vue2/","/web/vue/vue3/","/404.html","/category/","/category/ai/","/category/git/","/category/database/","/category/node/","/category/python/","/category/web/","/category/ecma/","/category/css/","/category/html/","/category/js/","/category/typescript/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/react/","/category/vue/","/category/webpack/","/category/uniapp/","/tag/","/tag/git/","/tag/nestjs/","/tag/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/","/tag/js/","/tag/html/","/tag/%E7%A6%81%E7%94%A8/","/article/","/star/","/timeline/"],ge="SEARCH_PRO_QUERY_HISTORY",y=$(ge,[]),we=()=>{const{queryHistoryCount:a}=C,l=a>0;return{enabled:l,queryHistory:y,addQueryHistory:r=>{l&&(y.value=Array.from(new Set([r,...y.value.slice(0,a-1)])))},removeQueryHistory:r=>{y.value=[...y.value.slice(0,r),...y.value.slice(r+1)]}}},q=a=>je[a.id]+("anchor"in a?`#${a.anchor}`:""),be="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:M}=C,B=$(be,[]),De=()=>{const a=M>0;return{enabled:a,resultHistory:B,addResultHistory:l=>{if(a){const r={link:q(l),display:l.display};"header"in l&&(r.header=l.header),B.value=[r,...B.value.slice(0,M-1)]}},removeResultHistory:l=>{B.value=[...B.value.slice(0,l),...B.value.slice(l+1)]}}},Ce=a=>{const l=Ee(),r=U(),F=ce(),u=S(0),g=D(()=>u.value>0),p=he([]);return ve(()=>{const{search:d,terminate:f}=pe(),m=me(E=>{const j=E.join(" "),{searchFilter:H=v=>v,splitWord:k,suggestionsFilter:L,...A}=l.value;j?(u.value+=1,d(E.join(" "),r.value,A).then(v=>H(v,j,r.value,F.value)).then(v=>{u.value-=1,p.value=v}).catch(v=>{console.warn(v),u.value-=1,u.value||(p.value=[])})):p.value=[]},C.searchDelay-C.suggestDelay);G([a,r],([E])=>m(E),{immediate:!0}),de(()=>{f()})}),{isSearching:g,results:p}};var fe=Z({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(a,{emit:l}){const r=ee(),F=U(),u=se(te),{enabled:g,addQueryHistory:p,queryHistory:d,removeQueryHistory:f}=we(),{enabled:m,resultHistory:E,addResultHistory:j,removeResultHistory:H}=De(),k=g||m,L=ae(a,"queries"),{results:A,isSearching:v}=Ce(L),n=le({isQuery:!0,index:0}),c=S(0),h=S(0),O=D(()=>k&&(d.value.length>0||E.value.length>0)),R=D(()=>A.value.length>0),Q=D(()=>A.value[c.value]||null),Y=()=>{const{isQuery:e,index:s}=n;s===0?(n.isQuery=!e,n.index=e?E.value.length-1:d.value.length-1):n.index=s-1},z=()=>{const{isQuery:e,index:s}=n;s===(e?d.value.length-1:E.value.length-1)?(n.isQuery=!e,n.index=0):n.index=s+1},J=()=>{c.value=c.value>0?c.value-1:A.value.length-1,h.value=Q.value.contents.length-1},V=()=>{c.value=c.value<A.value.length-1?c.value+1:0,h.value=0},K=()=>{h.value<Q.value.contents.length-1?h.value+=1:V()},N=()=>{h.value>0?h.value-=1:J()},x=e=>e.map(s=>Ae(s)?s:t(s[0],s[1])),W=e=>{if(e.type==="customField"){const s=ye[e.index]||"$content",[i,b=""]=Be(s)?s[F.value].split("$content"):s.split("$content");return e.display.map(o=>t("div",x([i,...o,b])))}return e.display.map(s=>t("div",x(s)))},w=()=>{c.value=0,h.value=0,l("updateQuery",""),l("close")};return re("keydown",e=>{if(a.isFocusing){if(R.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")K();else if(e.key==="Enter"){const s=Q.value.contents[h.value];p(a.queries.join(" ")),j(s),r.push(q(s)),w()}}else if(m){if(e.key==="ArrowUp")Y();else if(e.key==="ArrowDown")z();else if(e.key==="Enter"){const{index:s}=n;n.isQuery?(l("updateQuery",d.value[s]),e.preventDefault()):(r.push(E.value[s].link),w())}}}}),G([c,h],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:a.queries.length?!R.value:!O.value}],id:"search-pro-results"},a.queries.length?v.value?t(ne,{hint:u.value.searching}):R.value?t("ul",{class:"search-pro-result-list"},A.value.map(({title:e,contents:s},i)=>{const b=c.value===i;return t("li",{class:["search-pro-result-list-item",{active:b}]},[t("div",{class:"search-pro-result-title"},e||u.value.defaultTitle),s.map((o,X)=>{const P=b&&h.value===X;return t(T,{to:q(o),class:["search-pro-result-item",{active:P,"aria-selected":P}],onClick:()=>{p(a.queries.join(" ")),j(o),w()}},()=>[o.type==="text"?null:t(o.type==="title"?ue:o.type==="heading"?ie:oe,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[o.type==="text"&&o.header?t("div",{class:"content-header"},o.header):null,t("div",W(o))])])})])})):u.value.emptyResult:k?O.value?[g?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},u.value.queryHistory),d.value.map((e,s)=>t("div",{class:["search-pro-result-item",{active:n.isQuery&&n.index===s}],onClick:()=>{l("updateQuery",e)}},[t(_,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:i=>{i.preventDefault(),i.stopPropagation(),f(s)}})]))])):null,m?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},u.value.resultHistory),E.value.map((e,s)=>t(T,{to:e.link,class:["search-pro-result-item",{active:!n.isQuery&&n.index===s}],onClick:()=>{w()}},()=>[t(_,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(i=>x(i)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:I,onClick:i=>{i.preventDefault(),i.stopPropagation(),H(s)}})]))])):null]:u.value.emptyHistory:u.value.emptyResult)}});export{fe as default};
